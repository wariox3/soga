{% extends '::base.html.twig' %}
{% block content %}
<div class="container">
    <div class="page-header">
        <h1>Procesar nomina: <small><label id="lblNombreDocumento">detalle auxiliar</label></small></h1>
    </div>
    {{ form_start(form, { 'attr': {'class': 'form-horizontal', 'novalidate': 'novalidate'} }) }}
        {{ form_errors(form) }}       
        <table class="table table-striped table-bordered table-condensed table-hover" style="font-size:12px">
            <tr>
                <th>{{ knp_pagination_sortable(arNomina, 'ID', 'nomina.consecutivo') }}</th>
                <th>{{ knp_pagination_sortable(arNomina, 'Codigo', 'nomina.codigo') }}</th>
                <th>{{ knp_pagination_sortable(arNomina, 'Cedula', 'nomina.cedulaEmpleado') }}</th>                                
                <th>{{ knp_pagination_sortable(arNomina, 'Desde', 'nomina.fechaDesde') }}</th>
                <th>{{ knp_pagination_sortable(arNomina, 'Hasta', 'nomina.fechaHasta') }}</th>
                <th style="text-align: right">{{ knp_pagination_sortable(arNomina, 'Devengado', 'nomina.devengado') }}</th>
                <th style="text-align: right">{{ knp_pagination_sortable(arNomina, 'Deduccion', 'nomina.deduccion') }}</th>
                <th style="text-align: right">{{ knp_pagination_sortable(arNomina, 'Neto', 'nomina.neto') }}</th>
                <th style="text-align: right">{{ knp_pagination_sortable(arNomina, 'Presta', 'nomina.presta') }}</th>
                <th>{{ knp_pagination_sortable(arNomina, 'Periodo', 'nomina.periodo') }}</th>
                <th style="text-align: right">{{ knp_pagination_sortable(arNomina, 'Basico', 'nomina.basico') }}</th>
                <th style="text-align: right">{{ knp_pagination_sortable(arNomina, 'Pagado', 'nomina.pagado') }}</th>                
                <th>{{ knp_pagination_sortable(arNomina, 'Estado', 'nomina.estado') }}</th>
                <th><input type="checkbox" name="ChkSeleccionarTodos" OnClick="ChequearTodos(this);"/></th>

            </tr>

            {% for arNomina in arNomina %}
            <tr>
                <td><input type="hidden" name="LblCodigoCopia[]" value="{{ arNomina.consecutivo }}">{{ arNomina.consecutivo }}</td>
                <td>{{ arNomina.codigo }}</td>
                <td>{{ arNomina.cedulaEmpleado }}</td>                                
                <td>{{ arNomina.fechaDesde |date("Y/m/d")  }}</td>
                <td>{{ arNomina.fechaHasta |date("Y/m/d")  }}</td>
                <td style="text-align: right">{{ arNomina.devengado | number_format(0, '.', ',') }}</td>
                <td style="text-align: right">{{ arNomina.deduccion | number_format(0, '.', ',') }}</td>
                <td style="text-align: right">{{ arNomina.neto | number_format(0, '.', ',') }}</td>
                <td style="text-align: right">{{ arNomina.presta | number_format(0, '.', ',') }}</td>
                <td>{{ arNomina.periodo }}</td>
                <td style="text-align: right">{{ arNomina.basico | number_format(0, '.', ',') }}</td>
                <td style="text-align: right">{{ arNomina.pagado | number_format(0, '.', ',') }}</td>                
                <td>{{ arNomina.estado }}</td>
                <td><input type="checkbox" name="ChkSeleccionar[]" value="{{ arNomina.consecutivo }}" /></td>            
            </tr>
            {% endfor %}
        </table>

        <div class="navigation">
            {{ knp_pagination_render(arNomina) }}
        </div>    

        <!-- Botones Menu Items -->
        <div class="btn-toolbar" style="float: right">
            <div class="btn-group">
                {{ form_widget(form.BtnGenerarPendientes, { 'attr': {'class': 'btn btn-default btn-sm'} }) }}
                {{ form_widget(form.BtnGenerar, { 'attr': {'class': 'btn btn-default btn-sm'} }) }}
            </div>
        </div>
        <br /><br />       
        {{ form_rest(form) }}
    {{ form_end(form) }}    
</div>

{% endblock %}